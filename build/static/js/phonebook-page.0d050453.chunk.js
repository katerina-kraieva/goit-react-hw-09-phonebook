(this["webpackJsonpgoit-react-hw-09-phonebook"]=this["webpackJsonpgoit-react-hw-09-phonebook"]||[]).push([[4],{166:function(t,e,n){t.exports={form:"ContactForm_form__3L-Mq",input:"ContactForm_input__2lE3h",button:"ContactForm_button__PoBtQ"}},167:function(t,e,n){t.exports={input:"Filter_input__1vw22"}},168:function(t,e,n){t.exports={list:"ContactList_list__2LCl8",item:"ContactList_item__Wadho",button:"ContactList_button__1r9c0"}},169:function(t,e,n){t.exports={enter:"fade_enter__3Gumq",enterActive:"fade_enterActive__31mDL",exit:"fade_exit__9lBbg",exitActive:"fade_exitActive__S6khZ"}},179:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Q}));var c=n(0),a=n(154),r=n(170),o=n(14),i=n(180),s=n(54),u=(n(155),n(57)),b=n.n(u),l=(n(75),n(24)),m=n.n(l),j=n(35),h=n(26),d=n.n(h),f=n(13),O={fetchContacts:function(){return function(){var t=Object(j.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Object(f.j)()),d.a.get("/contacts").then((function(t){var n=t.data;return e(Object(f.k)(n))})).catch((function(t){return e(Object(f.i)(t.massage))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},addContact:function(t,e){return function(n){var c={name:t,number:e};n(Object(f.b)()),d.a.post("/contacts",c).then((function(t){var e=t.data;return n(Object(f.c)(e))})).catch((function(t){return n(Object(f.a)(t.massage))}))}},deleteContacts:function(t){return function(e){e(Object(f.g)()),console.log(t),d.a.delete("/contacts/".concat(t)).then((function(){return e(Object(f.h)(t))})).catch((function(t){return e(Object(f.f)(t.massage))}))}}},p=n(40),g=function(t){return t.contacts.contacts},x=function(t){return t.contacts.filter},v={getLoading:function(t){return t.contacts.loading},getError:function(t){return t.contacts.error},getContacts:g,getFilter:x,getVisibleContacts:Object(p.a)([g,x],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},_=(n(52),n(156)),C=n(157),N=n(172),y=n(171),w=n(151),F=n.n(w),L=n(166),k=n.n(L),S=n(2),A=function(t){Object(N.a)(n,t);var e=Object(y.a)(n);function n(){var t;Object(_.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleChangeName=function(e){t.setState({name:e.currentTarget.value})},t.handleChangeNumber=function(e){t.setState({number:e.currentTarget.value})},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number;return""===c.trim()||""===a.trim()?(console.log("empty name and number"),void s.b.error("The name and number fields are empty!")):t.props.contacts.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}))?(console.log(c),void s.b.error("".concat(c," is already in your contact list"))):(t.props.onSubmit(c,a),void t.setState({name:"",number:""}))},t}return Object(C.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=F.a.generate(),a=F.a.generate();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("form",{className:k.a.form,onSubmit:this.handleSubmit,children:[Object(S.jsx)("label",{htmlFor:c,children:" Name "}),Object(S.jsx)("input",{className:k.a.input,id:c,type:"text",value:e,onChange:this.handleChangeName}),Object(S.jsx)("label",{htmlFor:a,children:" Number "}),Object(S.jsx)("input",{className:k.a.input,id:a,type:"text",value:n,onChange:this.handleChangeNumber}),Object(S.jsx)("button",{className:k.a.button,type:"submit",children:"Add contact"})]})})}}]),n}(c.Component),E=Object(o.b)((function(t){return{contacts:v.getContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(O.addContact(e,n))}}}))(A),T=n(167),D=n.n(T);function W(){var t=Object(o.c)(),e=Object(o.d)(v.getFilter),n=F.a.generate();return Object(S.jsxs)("div",{children:[Object(S.jsx)("label",{htmlFor:n,className:D.a.label,children:"Find contacts by name"}),Object(S.jsx)("input",{className:D.a.input,id:n,type:"text",value:e,onChange:function(e){return t(Object(f.d)(e.target.value))}})]})}var q=n(146),B=n(168),J=n.n(B),P=n(169),V=n.n(P);function G(){var t=Object(o.c)(),e=Object(o.d)(v.getVisibleContacts);return Object(S.jsx)(q.a,{component:"ol",className:J.a.list,children:e.map((function(e){return Object(S.jsx)(i.a,{timeout:250,classNames:V.a,children:Object(S.jsxs)("li",{className:J.a.item,children:[Object(S.jsxs)("span",{children:[Object(S.jsxs)("b",{children:[e.name,":"]})," ",e.number]}),Object(S.jsx)("button",{className:J.a.button,type:"button",onClick:function(){return n=e.id,t(O.deleteContacts(n));var n},children:"Delete"})]},e.id)},e.id)}))})}var M={h:{textAlign:"center",color:"rgb(31, 54, 77)"}};function Q(){var t=Object(o.c)(),e=Object(o.d)(v.getError),n=Object(o.d)(v.getError);return Object(c.useEffect)((function(){return t(O.fetchContacts())}),[t]),Object(c.useEffect)((function(){e&&s.b.error("No Network"),setTimeout(t(Object(f.e)()),500)}),[e,t]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(a.a,{maxWidth:"sm",children:[Object(S.jsx)(i.a,{in:!0,appear:!0,timeout:250,classNames:"Logo",unmountOnExit:!0,children:Object(S.jsx)("h1",{style:M.h,children:"Phonebook"})}),Object(S.jsx)(E,{}),Object(S.jsx)(r.a,{m:1,children:Object(S.jsx)(W,{})})]}),Object(S.jsxs)(a.a,{maxWidth:"sm",children:[n&&Object(S.jsx)(b.a,{type:"Rings",color:"rgb(236, 8, 38)",height:200,width:200}),Object(S.jsx)(G,{})]})]})}}}]);
//# sourceMappingURL=phonebook-page.0d050453.chunk.js.map